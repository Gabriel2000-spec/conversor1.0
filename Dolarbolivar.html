<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Conversor Bs - USD</title>
    <style>
        /* Reset bÃ¡sico */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #004b9b; /* azul oscuro */
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: #005cbf;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            width: 100%;
            max-width: 400px;
            padding: 20px;
            text-align: center;
        }

        .last-update {
            background: #004080;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            margin-bottom: 20px;
            user-select: none;
        }

        .switcher {
            background: #007bff;
            border-radius: 50px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 20px;
            cursor: pointer;
            user-select: none;
        }

        .currency {
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .currency span.flag {
            font-size: 1.5rem;
        }

        .switch-icon {
            font-size: 1.5rem;
            color: #e0e0e0;
            user-select: none;
        }

        .inputs {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
        }

        input[type="number"] {
            flex: 1;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            border-radius: 12px;
            border: none;
            padding: 10px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.15);
            background: #dbe9ff;
            color: #000;
            -moz-appearance: textfield;
        }

        /* Quitar flechas en input number */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }

        .buttons-row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        button {
            flex: 1;
            padding: 12px 0;
            font-size: 1rem;
            font-weight: 700;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
            user-select: none;
        }

        button:focus {
            outline: 3px solid #ffeb3b;
            outline-offset: 2px;
        }

        .btn-clear {
            background: #0057d9;
            color: #fff;
        }

        .btn-clear:hover {
            background: #0045a1;
        }

        .btn-whatsapp {
            background: #25d366;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }

        .btn-whatsapp:hover {
            background: #1ebe57;
        }

        .whatsapp-icon {
            width: 22px;
            height: 22px;
            fill: white;
        }

        @media (max-width: 400px) {
            .inputs {
                flex-direction: column;
            }
            input[type="number"] {
                font-size: 1.5rem;
            }
            button {
                font-size: 0.9rem;
                padding: 10px 0;
            }
        }
    </style>
</head>
<body>
    <main class="container" role="main" aria-label="Conversor de divisas entre BolÃ­var y DÃ³lar">
        <section class="last-update" aria-live="polite" aria-atomic="true" id="lastUpdate">
            Ãšltima actualizaciÃ³n: 16 oct 2025, 12:27 a. m.
        </section>

        <div class="switcher" role="button" tabindex="0" aria-pressed="false" aria-label="Cambiar direcciÃ³n de conversiÃ³n" id="switcher">
            <div class="currency" id="currencyLeft">Bs <span class="flag" aria-hidden="true">ðŸ‡»ðŸ‡ª</span></div>
            <div class="switch-icon" aria-hidden="true">â‡„</div>
            <div class="currency" id="currencyRight">USD <span class="flag" aria-hidden="true">ðŸ‡ºðŸ‡¸</span></div>
        </div>

        <div class="inputs">
            <input type="number" id="inputLeft" aria-label="Cantidad en BolÃ­var" placeholder="000" min="0" step="any" />
            <input type="number" id="inputRight" aria-label="Cantidad en DÃ³lar" placeholder="000" min="0" step="any" />
        </div>

        <div class="buttons-row">
            <button type="button" class="btn-clear" id="btnClear" aria-label="Limpiar campos">Limpiar</button>
        </div>

        <button type="button" class="btn-whatsapp" id="btnWhatsapp" aria-label="Compartir resultado en WhatsApp">
         
                <path d="M20.52 3.48A11.75 11.75 0 0012.04.04a11.754 11.754 0 00-10.2 17.66L.5 23.5l5.94-1.54a11.776 11.776 0 006.6 1.92h.02a11.75 11.75 0 008.46-20.4zm-8.48 17.32h-.02a9.36 9.36 0 01-4.76-1.33l-.34-.2-3.53.92.94-3.44-.22-.35a9.376 9.376 0 1110.15 4.4zm5.57-7.5c-.3-.15-1.77-.87-2.05-.97-.28-.1-.48-.15-.68.15-.2.3-.77.97-.94 1.17-.17.2-.34.22-.63.07a8.83 8.83 0 01-2.6-1.6 9.59 9.59 0 01-1.78-2.2c-.18-.3 0-.46.13-.6.13-.13.3-.34.45-.5.15-.17.2-.28.3-.47.1-.2 0-.37-.05-.52-.05-.15-.68-1.63-.94-2.23-.25-.58-.5-.5-.68-.5-.17 0-.37 0-.57 0-.2 0-.52.07-.8.37-.3.3-1.15 1.12-1.15 2.72 0 1.6 1.18 3.15 1.35 3.37.17.22 2.33 3.55 5.63 4.97a4.97 4.97 0 002.22.72c.96 0 1.48-.45 1.63-.85.15-.4.15-.75.1-.85-.05-.1-.2-.15-.5-.3z"/>
            </svg>
            
        </button>
    </main>

    <script>
        (function(){
            // Variables DOM
            const switcher = document.getElementById('switcher');
            const currencyLeft = document.getElementById('currencyLeft');
            const currencyRight = document.getElementById('currencyRight');
            const inputLeft = document.getElementById('inputLeft');
            const inputRight = document.getElementById('inputRight');
            const btnClear = document.getElementById('btnClear');
            const btnWhatsapp = document.getElementById('btnWhatsapp');

            // Estado: true si conversiÃ³n es Bs -> USD, false si USD -> Bs
            let isBsToUsd = true;

            // Tipo de cambio - puedes actualizarlo dinÃ¡micamente si quieres
            const exchangeRate = 219.87; // Ejemplo: 1 USD = 24,000 Bs

            // Actualiza textos de monedas segÃºn estado
            function updateSwitcherText() {
                if (isBsToUsd) {
                    currencyLeft.innerHTML = 'Bs <span class="flag" aria-hidden="true">ðŸ‡»ðŸ‡ª</span>';
                    currencyRight.innerHTML = 'USD <span class="flag" aria-hidden="true">ðŸ‡ºðŸ‡¸</span>';
                    inputLeft.setAttribute('aria-label', 'Cantidad en BolÃ­var');
                    inputRight.setAttribute('aria-label', 'Cantidad en DÃ³lar');
                    inputLeft.placeholder = "000";
                    inputRight.placeholder = "000";
                } else {
                    currencyLeft.innerHTML = 'USD <span class="flag" aria-hidden="true">ðŸ‡ºðŸ‡¸</span>';
                    currencyRight.innerHTML = 'Bs <span class="flag" aria-hidden="true">ðŸ‡»ðŸ‡ª</span>';
                    inputLeft.setAttribute('aria-label', 'Cantidad en DÃ³lar');
                    inputRight.setAttribute('aria-label', 'Cantidad en BolÃ­var');
                    inputLeft.placeholder = "000";
                    inputRight.placeholder = "000";
                }
                clearFields();
            }

            // Limpia inputs
            function clearFields() {
                inputLeft.value = '';
                inputRight.value = '';
            }

            // Convierte y actualiza campo contrario
            function convertFromLeft() {
                const leftValue = parseFloat(inputLeft.value);
                if (isNaN(leftValue) || leftValue < 0) {
                    inputRight.value = '';
                    return;
                }

                let result = 0;
                if (isBsToUsd) {
                    // Bs a USD
                    result = leftValue / exchangeRate;
                } else {
                    // USD a Bs
                    result = leftValue * exchangeRate;
                }
                inputRight.value = result.toFixed(2);
            }

            function convertFromRight() {
                const rightValue = parseFloat(inputRight.value);
                if (isNaN(rightValue) || rightValue < 0) {
                    inputLeft.value = '';
                    return;
                }

                let result = 0;
                if (isBsToUsd) {
                    // USD a Bs
                    result = rightValue * exchangeRate;
                } else {
                    // Bs a USD
                    result = rightValue / exchangeRate;
                }
                inputLeft.value = result.toFixed(2);
            }

            // Cambia direcciÃ³n de conversiÃ³n
            function toggleConversion() {
                isBsToUsd = !isBsToUsd;
                updateSwitcherText();
            }

            // Construye mensaje para WhatsApp
            function buildWhatsappMessage() {
                const leftValue = parseFloat(inputLeft.value);
                const rightValue = parseFloat(inputRight.value);
                if (isNaN(leftValue) || leftValue < 0 || isNaN(rightValue) || rightValue < 0) {
                    alert('Por favor, ingresa valores vÃ¡lidos para convertir antes de compartir.');
                    return null;
                }

                if (isBsToUsd) {
                    return `Convertido: leftValue.toLocaleString(â€²esâˆ’VEâ€²)Bs={leftValue.toLocaleString('es-VE')} Bs =leftValue.toLocaleString(â€²esâˆ’VEâ€²)Bs={rightValue.toFixed(2)} USD (Tipo de cambio: 1 USD = ${exchangeRate.toLocaleString('es-VE')} Bs)`;
                } else {
                    return `Convertido: leftValue.toFixed(2)USD={leftValue.toFixed(2)} USD =leftValue.toFixed(2)USD={rightValue.toLocaleString('es-VE')} Bs (Tipo de cambio: 1 USD = ${exchangeRate.toLocaleString('es-VE')} Bs)`;
                }
            }

            // Enviar mensaje por WhatsApp
            function shareWhatsapp() {
                const message = buildWhatsappMessage();
                if (!message) return;

                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }

            // Eventos
            switcher.addEventListener('click', () => {
                toggleConversion();
            });

            // Soporte para teclado
            switcher.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleConversion();
                }
            });

            inputLeft.addEventListener('input', () => {
                convertFromLeft();
            });

            inputRight.addEventListener('input', () => {
                convertFromRight();
            });

            btnClear.addEventListener('click', () => {
                clearFields();
                inputLeft.focus();
            });

            btnWhatsapp.addEventListener('click', () => {
                shareWhatsapp();
            });

            // InicializaciÃ³n
            updateSwitcherText();

        })();
    </script>
</body>
</html>
